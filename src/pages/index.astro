---
import AboutMe from '../components/about-me/AboutMe.astro';
import Experience from '../components/experience/Experience.astro';
import Hero from '../components/hero/Hero.astro';
import Projects from '../components/projects/Projects.astro';
import SectionContainer from '../components/SectionContainer.astro';
import Stack from '../components/stack/Stack.astro';
import Layout from '../layouts/Layout.astro';
---

<Layout title="Aaron Avila">
	<SectionContainer class='show' id="inicio">
		<Hero />
	</SectionContainer>
	<SectionContainer class='show' id="experiencia">
		<Experience />
	</SectionContainer>
	{/*<SectionContainer id="proyectos">
		<Projects />
	</SectionContainer> */}
	<SectionContainer class='show' id="stack">
		<Stack />
	</SectionContainer>
	<SectionContainer class='show' id="sobre-mi">
		<AboutMe />
	</SectionContainer>
</Layout>

<script>
	const observer = new IntersectionObserver((entries) => {
		entries.forEach((entry) => {
			if (entry.isIntersecting) {
				entry.target.classList.remove('opacity-0');
				entry.target.classList.remove('translate-y-[50%]');
				entry.target.classList.add('opacity-100');
				entry.target.classList.add('translate-y-0');
				
			} else {
				entry.target.classList.remove('translate-y-0');
				entry.target.classList.remove('opacity-100');
				entry.target.classList.add('opacity-0'); 
				entry.target.classList.add('translate-y-[50%]');

			}
		});
	});

	const proyects = document.querySelectorAll('.show');
	
	proyects.forEach((proyect) => {
		observer.observe(proyect);
	});
</script>

